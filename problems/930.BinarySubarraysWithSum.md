 **题目描述**   

In an array `A` of `0`s and `1`s, how many **non-empty** subarrays have sum `S`?

 

**Example 1:**

```
Input: A = [1,0,1,0,1], S = 2
Output: 4
Explanation: 
The 4 subarrays are bolded below:
[1,0,1,0,1]
[1,0,1,0,1]
[1,0,1,0,1]
[1,0,1,0,1]
```

 

**Note:**

1. `A.length <= 30000`
2. `0 <= S <= A.length`
3. `A[i]` is either `0` or `1`.

**难度系数**    
Medium

解法一：滑动窗口
```c++
class Solution {
public:
    int numSubarraysWithSum(vector<int>& A, int S) {
        int cnt = 0, st = 0, total = 0, zeros = 0;
        for(int i = 0; i < A.size(); ++i) {
            cnt += (A[i] == 1 ? 1 : 0);

            while(cnt > S) {//当和大于S，需要移动左指针
                zeros = 0;
                cnt -= A[st] == 1 ? 1 : 0;
                ++st;
            }

            while(st < i && A[st] == 0 && cnt == S) {
                ++zeros;
                ++st;
            }
            if(st <= i && cnt == S) {
                total += (zeros + 1);
            }
        }
        return total;
    }
};
```

